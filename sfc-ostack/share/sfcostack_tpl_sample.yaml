#
# About  : Sample template for ostacksfc
# Format : YAML
#

---

# logging
log:
  level: INFO

# OpenStack cloud configs
cloud:
  # Authentication parameters
  auth:
    auth_url: http://192.168.100.1/identity/v3
    project_name: admin
    # Domain names are needed for API v3
    project_domain_name: default
    username: admin
    user_domain_name: default
    password: stack

# Service Function chaining configs
SFC:
  # Function chain parameters
  function_chain:
    # Name of the function chain
    name: udp_dst_9999
    description: A Function chain for flows with destination UDP port 9999
  # Flow classifier rules
  # Rules for flows that will be routed into the function chain
  flow_classifier:
    # Name of the flow classifier
    udp_dst_9999:
      description: BlaBlaBla...
      # L2 ethertype. Can be IPv4 or IPv6 only.
      ethertype: IPv4
      protocol: UDP
      source_port_range_min: 0
      source_port_range_max: 65535
      destination_port_range_min: 9999
      destination_port_range_max: 9999
      # Source IPv4 or IPv6 prefix, as CIDR
      source_ip_prefix: 10.0.0.1/32
      destination_ip_prefix: 10.0.0.3/32
      # ID of the source neutron port
      logical_source_port: 5ce5d533-a599-4a44-83a8-5fcf5d4ad3c5
      # ID of the destination neutron port
      logical_destination_port: 52891f9a-3933-42d5-bb56-9586e68c404e
  # Neutron network for SF
  network:
    net_name: net1
    subnet_name: subnet1
    security_group_name: test
  # Servers for FC
  server:
    # Name of the server
    chn1:
      # Sequence number in the chain
      seq_num: 1
      ifce: [eth1, eth2]
      dhcp_client: dhclient
      image: ubuntu-cloud
      flavor: m.test
      ssh:
      # SSH configs
        user_name: ubuntu
        pub_key_name: test
        # Path of private key file
        pvt_key_file: ./test.pem
    chn2:
      seq_num: 2
      ifce: [eth1, eth2]
      dhcp_client: dhclient
      image: ubuntu-cloud
      flavor: m.test
      ssh:
        user_name: ubuntu
        pub_key_name: test
        pvt_key_file: ./test.pem

    chn3:
      seq_num: 3
      ifce: [eth1, eth2]
      dhcp_client: dhclient
      image: ubuntu-cloud
      flavor: m.test
      ssh:
        user_name: ubuntu
        pub_key_name: test
        pvt_key_file: ./test.pem

...
